{"ast":null,"code":"import Web3 from 'web3';\nimport { init, executeTransaction, call } from './Blockchain/web3Client';\nexport const creatPoll = poll => {\n  executeTransaction(\"creatPoll\", poll.question, poll.image || '', poll.options.map(opt => Web3.utils.fromAscii(opt)));\n};\nexport const vote = (pollId, vote) => {\n  executeTransaction(\"vote\", pollId, vote);\n};\nexport const normalizeVoter = voter => {\n  return {\n    id: voter[0],\n    votedPolls: voter[1].map(vote => parseInt(vote))\n  };\n};\nexport const normalizePoll = (poll, voter) => {\n  return {\n    id: parseInt(poll[0]),\n    question: poll[1],\n    image: poll[2],\n    results: poll[3].map(res => parseInt(res)),\n    options: poll[4].map(opt => Web3.utils.toAscii(opt).replace(/\\u0000/g, ''))\n  };\n};","map":{"version":3,"names":["Web3","init","executeTransaction","call","creatPoll","poll","question","image","options","map","opt","utils","fromAscii","vote","pollId","normalizeVoter","voter","id","votedPolls","parseInt","normalizePoll","results","res","toAscii","replace"],"sources":["C:/Users/wailb/OneDrive/Documents/GitHub/Blockchain-Polls/src/pollService.js"],"sourcesContent":["import Web3 from 'web3';\r\nimport { init , executeTransaction, call } from './Blockchain/web3Client';\r\n\r\n\r\n\r\nexport const creatPoll = (poll) => {\r\n\r\n    executeTransaction(\"creatPoll\", poll.question, poll.image || '', poll.options.map((opt) => Web3.utils.fromAscii(opt)));\r\n\r\n}\r\n\r\n\r\nexport const vote = (pollId, vote) => {\r\n    executeTransaction(\"vote\",pollId, vote);\r\n}\r\n\r\n\r\nexport const normalizeVoter = (voter) => {\r\n    return{id: voter[0], votedPolls: voter[1].map(vote => parseInt(vote))}\r\n}\r\n\r\nexport const normalizePoll = (poll, voter) => {\r\n\r\n    return{\r\n        id: parseInt(poll[0]),\r\n        question: poll[1],\r\n        image: poll[2],\r\n        results: poll[3].map(res => parseInt(res)),\r\n        options: poll[4].map(opt => Web3.utils.toAscii(opt).replace(/\\u0000/g,''))\r\n    }\r\n}"],"mappings":"AAAA,OAAOA,IAAI,MAAM,MAAM;AACvB,SAASC,IAAI,EAAGC,kBAAkB,EAAEC,IAAI,QAAQ,yBAAyB;AAIzE,OAAO,MAAMC,SAAS,GAAIC,IAAI,IAAK;EAE/BH,kBAAkB,CAAC,WAAW,EAAEG,IAAI,CAACC,QAAQ,EAAED,IAAI,CAACE,KAAK,IAAI,EAAE,EAAEF,IAAI,CAACG,OAAO,CAACC,GAAG,CAAEC,GAAG,IAAKV,IAAI,CAACW,KAAK,CAACC,SAAS,CAACF,GAAG,CAAC,CAAC,CAAC;AAE1H,CAAC;AAGD,OAAO,MAAMG,IAAI,GAAG,CAACC,MAAM,EAAED,IAAI,KAAK;EAClCX,kBAAkB,CAAC,MAAM,EAACY,MAAM,EAAED,IAAI,CAAC;AAC3C,CAAC;AAGD,OAAO,MAAME,cAAc,GAAIC,KAAK,IAAK;EACrC,OAAM;IAACC,EAAE,EAAED,KAAK,CAAC,CAAC,CAAC;IAAEE,UAAU,EAAEF,KAAK,CAAC,CAAC,CAAC,CAACP,GAAG,CAACI,IAAI,IAAIM,QAAQ,CAACN,IAAI,CAAC;EAAC,CAAC;AAC1E,CAAC;AAED,OAAO,MAAMO,aAAa,GAAG,CAACf,IAAI,EAAEW,KAAK,KAAK;EAE1C,OAAM;IACFC,EAAE,EAAEE,QAAQ,CAACd,IAAI,CAAC,CAAC,CAAC,CAAC;IACrBC,QAAQ,EAAED,IAAI,CAAC,CAAC,CAAC;IACjBE,KAAK,EAAEF,IAAI,CAAC,CAAC,CAAC;IACdgB,OAAO,EAAEhB,IAAI,CAAC,CAAC,CAAC,CAACI,GAAG,CAACa,GAAG,IAAIH,QAAQ,CAACG,GAAG,CAAC,CAAC;IAC1Cd,OAAO,EAAEH,IAAI,CAAC,CAAC,CAAC,CAACI,GAAG,CAACC,GAAG,IAAIV,IAAI,CAACW,KAAK,CAACY,OAAO,CAACb,GAAG,CAAC,CAACc,OAAO,CAAC,SAAS,EAAC,EAAE,CAAC;EAC7E,CAAC;AACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}